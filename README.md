# Chartifact

Declarative interactive data documents.

Create data-driven reports, dashboards, presentations, and interactive content that combines rich text, visualizations, and user controls. Designed with AI-first principles, the interactive document format is easily understood and generated by both humans and LLMs. 

Chartifact is built for the space between static documents and applications. It brings interactivity to a format that remains portable, clear, and durable across time and platforms. The structure is intentionally constrained and declarative, based on a standard extensible catalog of composable components that work together predictably.

## AI Assist

The document format is optimized for AI assistance in authoring and tooling environments:

- **VS Code integration**: Press Ctrl+I in the document editor for AI-powered assistance.
- **VS Code agent mode**: Let VS Code’s AI agent help structure and populate your documents.
- **LLM-friendly HTML export**: Preserves the original document structure for AI agents to understand — and for users to remix.

## Getting Started

Interactive documents can be created, edited, and shared through multiple interfaces:

### VS Code Extension
The primary authoring environment with full-featured editing capabilities:
- **Document authoring**: Create and edit interactive documents in JSON and Markdown formats.
- **Preview on save**: Automatically updates the preview when you save your documents.
- **Visual editor**: Build documents through forms and controls.
- **HTML export**: Generate standalone HTML files for easy sharing.

### Web Interface
Browser-based tools accessible at our GitHub Pages site:
- **Viewer**: Drop or paste your documents for instant viewing and interaction.
- **GUI editor**: Web-based visual editor for creating documents online.

The VS Code extension offers the most comprehensive authoring experience, while the web interface provides convenient sharing and quick editing capabilities.

## Authoring Formats

Interactive documents can be authored in two formats:

- **JSON format**: Ideal for programmatic creation and complex documents.
- **Markdown format**: Human-readable text format for easier authoring and collaboration.

Both formats support the same interactive elements, allowing you to choose the approach that best fits your workflow.

## Security

- **Vega-powered**: Built on Vega's expression language, providing CSP compliance out of the box.
- **No arbitrary code**: Low-code by design, with no custom JavaScript or arbitrary code execution.
- **No HTML in Markdown**: Although part of the Markdown spec, raw HTML tags are not allowed in Chartifact Markdown.
- **Iframe sandbox**: Documents are rendered in isolated iframes to enforce strong security boundaries and prevent access to the parent page.

## Interactive Elements

- **Common inputs**: Textbox, Checkbox, Slider, Dropdown, etc.
- **Presets**: Pre-configured sets of variable values for quick scenario switching.
- **Chart**: Vega and Vega-Lite visualizations for data analysis.
- **Table**: Interactive tabular data with sorting, filtering, and selection.
- **Image**: Dynamic images that update based on user interactions.
- **Markdown**: Rich text content with formatting, dynamic placeholders, and secure styling.

All interactive elements are defined using JSON structures, whether authored directly in JSON format or within JSON code blocks in Markdown documents.

Example:
```json vega-lite
{
  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
  "data": {"url": "https://vega.github.io/editor/data/seattle-weather.csv"},
  "mark": "bar",
  "encoding": {
    "x": {
      "timeUnit": "month",
      "field": "date",
      "type": "ordinal",
      "title": "Month of the year"
    },
    "y": {
      "aggregate": "count",
      "type": "quantitative"
    },
    "color": {
      "field": "weather",
      "type": "nominal",
      "scale": {
        "domain": ["sun", "fog", "drizzle", "rain", "snow"],
        "range": ["#e7ba52", "#c7c7c7", "#aec7e8", "#1f77b4", "#9467bd"]
      },
      "title": "Weather type"
    }
  }
}
```

## Styling

- **CSS blocks**: Add styling using a dedicated `css` element. Styles are applied within the document’s own environment.
- **Layout flexibility**: A single document can be styled as a scrollable article, a multi-panel dashboard, or a step-by-step slideshow—using only CSS.
- **LLM-capable**: CSS is declarative and predictable, making it easy for AI tools to interpret and assist with styling.
- **Secure by design**: Styling is isolated and constrained—no HTML injection, and no global side effects.

## Architecture & Data Flow

Interactive documents use a reactive architecture that connects data, variables, and user input in real time:

- **Reactive variables**: Variables drive document state, automatically updating elements and data sources when their values change.
- **REST integration**: Fetch data from REST endpoints that can include reactive variables in the URL.
- **Dynamic bindings**: Use variables in image URLs, API requests, and other element properties to trigger automatic updates.
- **Vega transformations**: Leverage Vega's built-in data pipeline for filtering, aggregating, and reshaping data without custom code.
- **Signal Bus coordination**: Keep state synchronized across all elements using an internal message bus.
- **Jupyter integration**: Use chartifact documents as a clean, interactive UI layer for Jupyter workflows—without writing frontend code.
